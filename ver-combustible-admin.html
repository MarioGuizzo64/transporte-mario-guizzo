¡Listo! Acá tenés **`ver-combustible-admin.html` completo**, con:

* Fechas mostradas en **dd/mm/aaaa**.
* Botón **“NUEVA CARGA”** para agregar manualmente una carga (crea en `cargas-combustible`).
* Editor para **ver/editar/eliminar** como antes.
* Compatibilidad leyendo **ambas colecciones**: `cargas-combustible` y `cargasCombustible`.
* Cálculo correcto de **Total = Litros × \$/l** con números en formato AR.

Copiá y pegá:

```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VER COMBUSTIBLE – ADMIN</title>
  <style>
    body{margin:0;background:#FFD700;font-family:Arial,sans-serif;color:#fff;}
    .container{
      background:#000;
      max-width:980px;
      margin:40px auto;
      padding:24px;
      border-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,.35)
    }
    h1{text-align:center;text-transform:uppercase;text-decoration:underline;margin:0 0 16px}
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:0 0 10px}
    .filtros{display:grid;grid-template-columns:repeat(auto-fit, minmax(160px,1fr));gap:8px;margin:0 0 16px 0;}
    .filtros input,.filtros select{padding:8px;border:1px solid #000;border-radius:4px;color:#000;background:#fff}
    .btn{padding:10px;border:1px solid #000;border-radius:6px;font-weight:bold;cursor:pointer;text-transform:uppercase}
    .btn-verde{background:green;color:#fff}
    .btn-naranja{background:orange;color:#000}
    .btn-rojo{background:red;color:#fff}
    .btn-volver{margin-top:16px}
    .lista{display:grid;gap:10px}
    .item{background:#191919;border-radius:10px;padding:12px}
    .item p{margin:3px 0}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .pill{display:inline-block;background:#333;border-radius:999px;padding:2px 8px;font-size:12px;margin-left:8px}
    .resumen{background:#111;border:1px solid #222;border-radius:10px;padding:10px 12px;margin:0 0 16px 0;display:grid;grid-template-columns:repeat(auto-fit, minmax(160px,1fr));gap:8px;}
    .resumen .card{background:#0f1a0f;border:1px solid #1f3d1f;border-radius:8px;padding:10px;text-align:center;}
    .resumen .card .label{font-size:12px;color:#a0d8a0;text-transform:uppercase}
    .resumen .card .value{font-weight:bold;font-size:18px}
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);justify-content:center;align-items:center}
    .modal-content{background:#000;border-radius:12px;padding:16px;width:95%;max-width:650px;box-shadow:0 10px 30px rgba(0,0,0,.5)}
    .modal-content h2{margin:0 0 12px;text-transform:uppercase;text-decoration:underline}
    .edit-form{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .edit-form label{grid-column:span 2;font-weight:bold;text-transform:uppercase}
    .edit-form input,.edit-form select,.edit-form textarea{padding:8px;border:1px solid #000;border-radius:4px;background:#fff;color:#000}
    .edit-form textarea{grid-column:span 2;height:70px;resize:vertical}
    .modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
    @media (max-width:800px){ .edit-form{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="container">
    <h1>Ver Combustible</h1>

    <div class="toolbar">
      <button class="btn btn-verde" id="btnNuevo">Nueva carga</button>
    </div>

    <!-- FILTROS -->
    <form class="filtros" id="formFiltros">
      <input type="date" id="desde"/>
      <input type="date" id="hasta"/>
      <select id="rangoRapido">
        <option value="">Período…</option>
        <option value="mes-actual">Mes actual</option>
        <option value="mes-pasado">Mes pasado</option>
        <option value="ultimos-30">Últimos 30 días</option>
        <option value="todo">Todo</option>
      </select>
      <select id="fPatente"><option value="">Todas las patentes</option></select>
      <select id="fTipo"><option value="">Todos los tipos</option></select>
      <select id="fMetodo"><option value="">Todos los métodos</option></select>
      <input type="text" id="fCuitOrigen" placeholder="CUIT origen (opcional)"/>
      <input type="text" id="buscar" placeholder="Buscar (estación, patente, obs)"/>
      <button type="button" class="btn btn-naranja" id="btnLimpiar">Limpiar</button>
    </form>

    <!-- RESUMEN -->
    <div id="resumen" class="resumen">
      <div class="card"><div class="label">Litros</div><div class="value" id="r_litros">-</div></div>
      <div class="card"><div class="label">Total $</div><div class="value" id="r_total">$ -</div></div>
      <div class="card"><div class="label">$/Litro prom.</div><div class="value" id="r_promedio">-</div></div>
      <div class="card"><div class="label">Cargas</div><div class="value" id="r_cargas">-</div></div>
    </div>

    <!-- LISTA -->
    <div id="lista" class="lista"></div>

    <button class="btn btn-naranja btn-volver" onclick="location.href='admin.html'">Volver</button>
  </div>

  <!-- MODAL DETALLE/EDICIÓN -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <h2>Detalle / Editar carga</h2>
      <form id="formEdit" class="edit-form">
        <label>Fecha</label><input type="date" id="e_fecha"/>
        <label>Patente del camión</label><input type="text" id="e_patente"/>
        <label>Litros cargados</label><input type="number" step="0.01" id="e_litros"/>
        <label>Precio por litro</label><input type="number" step="0.01" id="e_precioLitro"/>
        <label>Importe total</label><input type="number" step="0.01" id="e_total"/>
        <label>Estación de servicio</label><input type="text" id="e_estacion"/>
        <label>Tipo de combustible</label>
        <select id="e_tipo">
          <option value="">Seleccionar…</option>
          <option>Nafta</option>
          <option>Gasoil</option>
          <option>Euro</option>
          <option>Otro</option>
        </select>
        <label>Método de pago</label>
        <select id="e_metodo">
          <option value="">Seleccionar…</option>
          <option>Efectivo</option>
          <option>Tarjeta</option>
          <option>Cuenta corriente</option>
          <option>Transferencia</option>
        </select>
        <label>Observaciones</label><textarea id="e_obs"></textarea>
      </form>
      <div class="modal-actions">
        <button id="btnGuardar" class="btn btn-verde" type="button">Guardar</button>
        <button id="btnEliminar" class="btn btn-rojo" type="button">Eliminar</button>
        <button id="btnCerrar" class="btn btn-naranja" type="button">Cerrar</button>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
    import {
      getFirestore, collection, onSnapshot, doc, updateDoc, deleteDoc, addDoc, serverTimestamp
    } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    // Config
    const firebaseConfig = {
      apiKey: "AIzaSyDGqynxRT1kEafI3xFdo9dM1gu2RIqWxxU",
      authDomain: "transporte-mario-guizzo.firebaseapp.com",
      projectId: "transporte-mario-guizzo",
      storageBucket: "transporte-mario-guizzo.appspot.com",
      messagingSenderId: "465536166890",
      appId: "1:465536166890:web:f658690629b09eca8fa093"
    };
    const app  = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db   = getFirestore(app);

    // ===== Helpers numéricos / fechas =====
    const toNum = (v) => {
      if (v === null || v === undefined) return null;
      if (typeof v === 'number' && isFinite(v)) return v;
      if (typeof v === 'string') {
        const s = v.replace(/\./g,'').replace(',', '.').trim();
        const n = parseFloat(s);
        return isNaN(n) ? null : n;
      }
      return null;
    };
    const parseFecha = (f) => {
      if (!f) return null;
      if (typeof f === 'string') {
        if (f.includes('-')) return new Date(f);
        if (f.includes('/')) { const [dd,mm,aa] = f.split('/'); return new Date(+aa, +mm-1, +dd); }
      }
      if (f.seconds) return new Date(f.seconds*1000);
      const d = new Date(f); return isNaN(d) ? null : d;
    };
    const toISO = (d) => d ? d.toISOString().slice(0,10) : '';
    // Mostrar como dd/mm/aaaa
    const fmtDMY = (f) => {
      const d = parseFecha(f);
      if (!d) return '-';
      const dd = String(d.getDate()).padStart(2,'0');
      const mm = String(d.getMonth()+1).padStart(2,'0');
      const yy = d.getFullYear();
      return `${dd}/${mm}/${yy}`;
    };

    // ===== Getters normalizados de campos =====
    const getFecha   = (c) => c.fecha || c.fechaCarga || c.fechaCompra || '';
    const getPatente = (c) => c.patenteCamion || c.patente || '';
    const getEstacion= (c) => c.estacionServicio || c.estacion || '';
    const getTipo    = (c) => c.tipoCombustible || c.tipo || '';
    const getMetodo  = (c) => c.metodoPago || c.metodo || '';
    const getLitros  = (c) => toNum(c.litros) || 0;
    const getPrecio  = (c) => toNum(c.precioPorLitro ?? c.sl);
    const getTotal   = (c) => {
      const L = getLitros(c);
      const P = getPrecio(c);
      if (L && P != null) return L*P;
      return toNum(c.totalPagado);
    };

    const money0 = (n)=> Number(n||0).toLocaleString('es-AR',{maximumFractionDigits:0});
    const num0   = (n)=> Number(n||0).toLocaleString('es-AR',{maximumFractionDigits:0});

    onAuthStateChanged(auth, (user) => {
      if (!user) { window.location.href = "login.html"; return; }
      start(user);
    });

    // --------------------- APP ---------------------
    function start(user){
      // UI refs
      const btnNuevo = document.getElementById("btnNuevo");
      const lista = document.getElementById("lista");
      const fDesde = document.getElementById("desde");
      const fHasta = document.getElementById("hasta");
      const rangoRapido = document.getElementById("rangoRapido");
      const fPatente = document.getElementById("fPatente");
      const fTipo = document.getElementById("fTipo");
      const fMetodo = document.getElementById("fMetodo");
      const fBuscar = document.getElementById("buscar");
      const fCuitOrigen = document.getElementById("fCuitOrigen");
      const btnLimpiar = document.getElementById("btnLimpiar");

      const rLitros = document.getElementById("r_litros");
      const rTotal  = document.getElementById("r_total");
      const rProm   = document.getElementById("r_promedio");
      const rCargas = document.getElementById("r_cargas");

      // Modal refs
      const modal = document.getElementById('modal');
      const e_fecha = document.getElementById('e_fecha');
      const e_patente = document.getElementById('e_patente');
      const e_litros = document.getElementById('e_litros');
      const e_precioLitro = document.getElementById('e_precioLitro');
      const e_total = document.getElementById('e_total');
      const e_estacion = document.getElementById('e_estacion');
      const e_tipo = document.getElementById('e_tipo');
      const e_metodo = document.getElementById('e_metodo');
      const e_obs = document.getElementById('e_obs');
      const btnGuardar = document.getElementById('btnGuardar');
      const btnEliminar = document.getElementById('btnEliminar');
      const btnCerrar = document.getElementById('btnCerrar');

      // Estado
      let colA = [];      // cargas-combustible
      let colB = [];      // cargasCombustible
      let todas = [];     // merge
      let actual = null;  // {id, col, ...}
      let isNew  = false; // modo "nuevo"

      // Subs a AMBAS colecciones (compatibilidad)
      onSnapshot(collection(db, "cargas-combustible"), (qs) => {
        colA = qs.docs.map(d => ({ id: d.id, col: "cargas-combustible", ...d.data() }));
        mergeAndRender();
      });
      onSnapshot(collection(db, "cargasCombustible"), (qs) => {
        colB = qs.docs.map(d => ({ id: d.id, col: "cargasCombustible", ...d.data() }));
        mergeAndRender();
      });

      function mergeAndRender(){
        todas = [...colA, ...colB];
        // ordenar por fecha/timestamp desc
        todas.sort((a,b) => {
          const da = parseFecha(getFecha(a)) || (a.timestamp ? new Date(a.timestamp) : new Date(0));
          const dbb= parseFecha(getFecha(b)) || (b.timestamp ? new Date(b.timestamp) : new Date(0));
          return dbb - da;
        });
        poblarSelects();
        render();
      }

      function poblarSelects(){
        const patentes = Array.from(new Set(todas.map(getPatente).filter(Boolean))).sort();
        const tipos    = Array.from(new Set(todas.map(getTipo).filter(Boolean))).sort();
        const metodos  = Array.from(new Set(todas.map(getMetodo).filter(Boolean))).sort();

        const pSel = fPatente.value, tSel = fTipo.value, mSel = fMetodo.value;
        fPatente.innerHTML = '<option value="">Todas las patentes</option>' +
          patentes.map(p => `<option value="${p}">${p}</option>`).join('');
        fTipo.innerHTML = '<option value="">Todos los tipos</option>' +
          tipos.map(t => `<option value="${t}">${t}</option>`).join('');
        fMetodo.innerHTML = '<option value="">Todos los métodos</option>' +
          metodos.map(m => `<option value="${m}">${m}</option>`).join('');
        if (pSel) fPatente.value = pSel;
        if (tSel) fTipo.value = tSel;
        if (mSel) fMetodo.value = mSel;
      }

      function pasaFiltros(x){
        const f = parseFecha(getFecha(x));
        if (fDesde.value){ const d = new Date(fDesde.value); if (!f || f < d) return false; }
        if (fHasta.value){ const h = new Date(fHasta.value); if (!f || f > h) return false; }
        if (fPatente.value && getPatente(x) !== fPatente.value) return false;
        if (fTipo.value    && getTipo(x)    !== fTipo.value) return false;
        if (fMetodo.value  && getMetodo(x)  !== fMetodo.value) return false;
        if (fCuitOrigen.value){
          const co = (x.cuitOrigen || "").toString();
          if (!co.includes(fCuitOrigen.value.trim())) return false;
        }
        const q = fBuscar.value.trim().toLowerCase();
        if (q){
          const blob = [ getEstacion(x), getPatente(x), x.observaciones, getTipo(x), getMetodo(x) ]
            .map(s => (s||"")+"").join(" ").toLowerCase();
          if (!blob.includes(q)) return false;
        }
        return true;
      }

      function actualizarResumen(datos){
        const cargas = datos.length;
        let totalLitros = 0, totalGasto  = 0;

        for (const c of datos){
          const L = getLitros(c);
          const P = getPrecio(c);
          let T = null;
          if (L && P != null) T = L * P;
          if (T == null)      T = toNum(c.totalPagado) || 0;

          totalLitros += L;
          totalGasto  += T;
        }

        const prom = (totalLitros>0) ? (totalGasto/totalLitros) : 0;
        rLitros.textContent = `${num0(totalLitros)} l`;
        rTotal.textContent  = "$ " + money0(totalGasto);
        rProm.textContent   = totalLitros>0 ? num0(prom) : "-";
        rCargas.textContent = String(cargas);
      }

      function render(){
        const datos = todas.filter(pasaFiltros);
        actualizarResumen(datos);
        lista.innerHTML = "";
        if (!datos.length){
          lista.innerHTML = '<div class="item"><p>No hay cargas para los filtros seleccionados.</p></div>';
          return;
        }
        for (const c of datos){
          const litros = getLitros(c);
          const precio = getPrecio(c);
          const total  = (litros && precio != null) ? litros*precio : toNum(c.totalPagado);
          const plitro = (precio != null) ? precio : (litros ? (total!=null? total/litros : null) : null);
          const obsPill = c.observaciones ? '<span class="pill" style="background:#b71c1c">OBSERVACIONES</span>' : '';

          const div = document.createElement('div');
          div.className = 'item';
          div.innerHTML = `
            <div class="row">
              <div><strong>Fecha:</strong> ${fmtDMY(getFecha(c))} ${obsPill}</div>
              <div><strong>Patente:</strong> ${getPatente(c) || '-'}</div>
            </div>
            <p><strong>Estación:</strong> ${getEstacion(c) || '-'}
               &nbsp;|&nbsp; <strong>Tipo:</strong> ${getTipo(c) || '-'}
               &nbsp;|&nbsp; <strong>Método:</strong> ${getMetodo(c) || '-'}</p>
            <p><strong>Litros:</strong> ${num0(litros)} l
               &nbsp;|&nbsp; <strong>$/l:</strong> ${plitro!=null? num0(plitro) : '-'}
               &nbsp;|&nbsp; <strong>Total:</strong> ${total!=null? '$ '+money0(total) : '-'}</p>
            <div style="display:flex;justify-content:flex-end;">
              <button class="btn btn-verde" onclick="window._abrir('${c.id}','${c.col}')">Ver / Editar</button>
            </div>
          `;
          lista.appendChild(div);
        }
      }

      // ---- Eventos de filtros ----
      [fDesde,fHasta,fPatente,fTipo,fMetodo,fBuscar,fCuitOrigen].forEach(el => el.addEventListener('input', render));
      rangoRapido.addEventListener('change', ()=>{
        const hoy = new Date();
        const y = hoy.getFullYear(), m = hoy.getMonth();
        if (rangoRapido.value === 'mes-actual'){
          fDesde.value = toISO(new Date(y, m, 1));
          fHasta.value = toISO(new Date(y, m+1, 0));
        } else if (rangoRapido.value === 'mes-pasado'){
          fDesde.value = toISO(new Date(y, m-1, 1));
          fHasta.value = toISO(new Date(y, m, 0));
        } else if (rangoRapido.value === 'ultimos-30'){
          const d = new Date(); d.setDate(d.getDate()-30);
          fDesde.value = toISO(d); fHasta.value = toISO(hoy);
        } else if (rangoRapido.value === 'todo'){
          fDesde.value = ''; fHasta.value = '';
        }
        render();
      });
      btnLimpiar.addEventListener('click', ()=>{
        fDesde.value=''; fHasta.value=''; rangoRapido.value='';
        fPatente.value=''; fTipo.value=''; fMetodo.value='';
        fBuscar.value=''; fCuitOrigen.value='';
        render();
      });

      // ---- Abrir modal en modo NUEVO ----
      btnNuevo.addEventListener('click', ()=>{
        isNew = true;
        actual = { id: null, col: 'cargas-combustible' }; // creamos en esta colección por defecto
        e_fecha.value = toISO(new Date());
        e_patente.value = '';
        e_litros.value = '';
        e_precioLitro.value = '';
        e_total.value = '';
        e_estacion.value = '';
        e_tipo.value = '';
        e_metodo.value = '';
        e_obs.value = '';
        modal.style.display = 'flex';
      });

      // ---- Modal abrir / cargar datos (modo editar) ----
      window._abrir = (id, col)=>{
        isNew = false;
        actual = (todas.find(x => x.id === id && x.col === col) || null);
        if (!actual) return;
        const d = parseFecha(getFecha(actual));
        e_fecha.value = toISO(d) || '';
        e_patente.value = getPatente(actual);
        e_litros.value = getLitros(actual) || '';
        const precio = getPrecio(actual);
        e_precioLitro.value = (precio!=null? precio : '');
        const total = getTotal(actual);
        e_total.value = (total!=null? total : '');
        e_estacion.value = getEstacion(actual);
        e_tipo.value = getTipo(actual) || '';
        e_metodo.value = getMetodo(actual) || '';
        e_obs.value = actual.observaciones || '';
        modal.style.display = 'flex';
      };
      btnCerrar.addEventListener('click', ()=> modal.style.display='none');

      // ---- Guardar (crear o actualizar) ----
      btnGuardar.addEventListener('click', async ()=>{
        const L = toNum(e_litros.value);
        const P = toNum(e_precioLitro.value);
        let   T = toNum(e_total.value);
        if (L && P != null) T = L * P;

        const data = {
          fecha: e_fecha.value || null,                   // YYYY-MM-DD
          patenteCamion: (e_patente.value||'').trim(),
          patente: (e_patente.value||'').trim(),         // compat
          litros: L ?? null,
          precioPorLitro: P ?? null,
          totalPagado: T ?? null,
          estacionServicio: (e_estacion.value||'').trim(),
          tipoCombustible: e_tipo.value || '',
          tipo: e_tipo.value || '',                       // compat
          metodoPago: e_metodo.value || '',
          metodo: e_metodo.value || '',                   // compat
          observaciones: e_obs.value || '',
          timestamp: serverTimestamp()
        };

        if (isNew){
          await addDoc(collection(db, actual.col), data);
        } else {
          await updateDoc(doc(db, actual.col, actual.id), data);
        }
        modal.style.display='none';
      });

      // ---- Eliminar ----
      btnEliminar.addEventListener('click', async ()=>{
        if (!actual || isNew) return;
        if (!confirm('¿Eliminar esta carga de combustible?')) return;
        await deleteDoc(doc(db, actual.col, actual.id));
        modal.style.display='none';
      });

      // Cerrar modal con ESC o click afuera
      window.addEventListener('keydown', (e)=>{ if (e.key==='Escape') modal.style.display='none'; });
      modal.addEventListener('click', (e)=>{ if (e.target===modal) modal.style.display='none'; });
    }
  </script>

</body>
</html>
```
